LIST P=16F877A
INCLUDE <P16F877A.INC>
__CONFIG _HS_OSC & _WDT_OFF & _CP_OFF & _PWRTE_ON & _LVP_OFF
TEMP EQU 0x20
TEMP1 EQU 0x21
TEMP4 EQU 0x22
CONT EQU 0x23
CONT0 EQU 0x24
CONT1 EQU 0X25
CONT2 EQU 0X26
CONT3 EQU 0X27
TEMP2 EQU 0x28
CONT4 EQU 0X29
EXTRA1 EQU 0X2A
EXTRA2 EQU 0X2B
EXTRA EQU 0X2C
CONT5 EQU 0X2D
AUX EQU 0X2E
CONT6 EQU 0X2F
ALTO EQU 0X30
BAJO EQU 0X31
EXTRA3 EQU 0X32
OPCION EQU 0X33
ORG 00
CLRF EXTRA3
GOTO HERE
CLRF 0X77
ORG 04
MOVWF 0X7F
MOVFW STATUS
MOVWF 0X7E
MOVFW FSR
MOVWF 0X7D
call B0
bcf  INTCON,T0IF
DECFSZ 0X77
GOTO ALLA
CALL CARA
ALLA:
MOVFW 0X7D
MOVFW FSR
MOVFW 0X7E
MOVWF STATUS
MOVFW 0X7F
RETFIE
CARA:
INCF 0X79
MOVFW 0X79
ADDWF PCL
GOTO CARA
GOTO CARITA_FELIZ
GOTO CARITA_TRISTE
GOTO LOGO
GOTO LOGO
GOTO LOGO2
GOTO LOGO2
CLRF 0X79
GOTO CARA
COR
BSF EXTRA2,0
INCF EXTRA1
CALL AJUSTE
MOVFW AUX
ADDWF PCL
GOTO LIMPIAAR
GOTO LIMPIAAB
GOTO LIMPIADE
GOTO LIMPIAIZ
INCOR
bsf EXTRA2,0
MOVFW AUX
ADDWF PCL
GOTO BLOQUEAAR
GOTO BLOQUEAAB
GOTO BLOQUEADE
GOTO BLOQUEAIZ
RSACA:MOVFW BAJO
ADDWF PCL,F
GOTO NUMERO0
GOTO NUMERO1
GOTO NUMERO2
GOTO NUMERO3
GOTO NUMERO4
GOTO NUMERO5
GOTO NUMERO6
GOTO NUMERO7
GOTO NUMERO8
GOTO NUMERO9
GENERA
MOVFW 0X72
ADDWF 0X74
ADDWF PCL,F
GOTO FLECHA_AR
GOTO FLECHA_AB
GOTO FLECHA_DE
GOTO FLECHA_IZ
DELAY
MOVLW 0XA0
MOVWF FSR
BCF STATUS,IRP
DELAY1:INCF FSR
MOVFW INDF
DECF FSR
MOVWF INDF
INCF FSR
MOVFW FSR
SUBLW 0XC8;CHK
BTFSS STATUS,Z
GOTO DELAY1
MOVLW 0X20
MOVWF FSR
BSF STATUS,IRP
DELAY3:INCF FSR
MOVFW INDF
DECF FSR
MOVWF INDF
INCF FSR
MOVFW FSR
SUBLW 0X48;CHK
BTFSS STATUS,Z
GOTO DELAY3
MOVLW 0XA0
MOVWF FSR
BSF STATUS,IRP
DELAY2:INCF FSR
MOVFW INDF
DECF FSR
MOVWF INDF
INCF FSR
MOVFW FSR
SUBLW 0XC8;CHK
BTFSS STATUS,Z
GOTO DELAY2
RETURN
H1
CLRF TEMP1
MOVFW TEMP
MOVWF FSR
H2:MOVFW INDF
MOVWF PORTC
CALL BACK1
BSF PORTE,1
INCF FSR
INCF TEMP1
MOVFW TEMP1
SUBLW 0X30
BTFSS STATUS,Z
GOTO H2
clrf PORTC
CALL BACK1
RETURN
H11
CLRF TEMP1
MOVFW TEMP
MOVWF FSR
H3:MOVFW INDF
XORLW 0XFF
MOVWF PORTC
CALL BACK1
BcF PORTE,1
INCF FSR
INCF TEMP1
MOVFW TEMP1
SUBLW 0X30
BTFSS STATUS,Z
GOTO H3
MOVLW 0X00
MOVWF PORTC
CALL BACK1
RETURN
BACK1:
BsF PORTE,0
BcF PORTE,0
RETURN
CARITA_TRISTE:
BCF STATUS,IRP
MOVLW 0Xa0
MOVWF FSR
MOVLW 0X03
MOVWF INDF
INCF FSR
MOVLW 0X07
MOVWF INDF
INCF FSR
MOVLW 0X0E
MOVWF INDF
INCF FSR
MOVLW 0X1C
MOVWF INDF
INCF FSR
MOVLW 0X38
MOVWF INDF
INCF FSR
MOVLW 0X70
MOVWF INDF
INCF FSR
MOVLW 0XE0
MOVWF INDF
INCF FSR
MOVLW 0XC7
MOVWF INDF
INCF FSR
MOVLW 0XCF
MOVWF INDF
INCF FSR
MOVLW 0XC8
MOVWF INDF
INCF FSR
MOVLW 0XC8
MOVWF INDF
INCF FSR
MOVLW 0XCF
MOVWF INDF
INCF FSR
MOVLW 0XC7
MOVWF INDF
INCF FSR
MOVLW 0XC0
MOVWF INDF
INCF FSR
MOVLW 0XC0
MOVWF INDF
INCF FSR
MOVLW 0XC0
MOVWF INDF
INCF FSR
MOVLW 0XC0
MOVWF INDF
INCF FSR
MOVLW 0XC0
MOVWF INDF
INCF FSR
MOVLW 0XC0
MOVWF INDF
INCF FSR
MOVLW 0XC7
MOVWF INDF
INCF FSR
MOVLW 0XCF
MOVWF INDF
INCF FSR
MOVLW 0XC8
MOVWF INDF
INCF FSR
MOVLW 0XC8
MOVWF INDF
INCF FSR
MOVLW 0XCF
MOVWF INDF
INCF FSR
MOVLW 0XC7
MOVWF INDF
INCF FSR
MOVLW 0XE0
MOVWF INDF
INCF FSR
MOVLW 0X70
MOVWF INDF
INCF FSR
MOVLW 0X38
MOVWF INDF
INCF FSR
MOVLW 0X1C
MOVWF INDF
INCF FSR
MOVLW 0X0E
MOVWF INDF
INCF FSR
MOVLW 0X07
MOVWF INDF
INCF FSR
MOVLW 0X03
MOVWF INDF
bsf STATUS, IRP
MOVLW 0X20
MOVWF FSR
MOVLW 0XFF
MOVWF INDF
INCF FSR
MOVLW 0XFF
MOVWF INDF
INCF FSR
MOVLW 0X00
MOVWF INDF
INCF FSR
MOVLW 0X00
MOVWF INDF
INCF FSR
MOVLW 0X00
MOVWF INDF
INCF FSR
MOVLW 0X00
MOVWF INDF
INCF FSR
MOVLW 0X00
MOVWF INDF
INCF FSR
MOVLW 0X00
MOVWF INDF
INCF FSR
MOVLW 0X81
MOVWF INDF
INCF FSR
MOVLW 0X81
MOVWF INDF
INCF FSR
MOVLW 0X81
MOVWF INDF
INCF FSR
MOVLW 0X81
MOVWF INDF
INCF FSR
MOVLW 0X01
MOVWF INDF
INCF FSR
MOVLW 0X01
MOVWF INDF
INCF FSR
MOVLW 0X01
MOVWF INDF
INCF FSR
MOVLW 0X01
MOVWF INDF
INCF FSR
MOVLW 0X01
MOVWF INDF
INCF FSR
MOVLW 0X01
MOVWF INDF
INCF FSR
MOVLW 0X01
MOVWF INDF
INCF FSR
MOVLW 0X01
MOVWF INDF
INCF FSR
MOVLW 0X81
MOVWF INDF
INCF FSR
MOVLW 0X81
MOVWF INDF
INCF FSR
MOVLW 0X81
MOVWF INDF
INCF FSR
MOVLW 0X81
MOVWF INDF
INCF FSR
MOVLW 0X00
MOVWF INDF
INCF FSR
MOVLW 0X00
MOVWF INDF
INCF FSR
MOVLW 0X00
MOVWF INDF
INCF FSR
MOVLW 0X00
MOVWF INDF
INCF FSR
MOVLW 0X00
MOVWF INDF
INCF FSR
MOVLW 0X00
MOVWF INDF
INCF FSR
MOVLW 0XFF
MOVWF INDF
INCF FSR
MOVLW 0XFF
MOVWF INDF
MOVLW 0XA0
MOVWF FSR
MOVLW 0XC0
MOVWF INDF
INCF FSR
MOVLW 0XE0
MOVWF INDF
INCF FSR
MOVLW 0X70
MOVWF INDF
INCF FSR
MOVLW 0X38
MOVWF INDF
INCF FSR
MOVLW 0X1C
MOVWF INDF
INCF FSR
MOVLW 0X0E
MOVWF INDF
INCF FSR
MOVLW 0X07
MOVWF INDF
INCF FSR
MOVLW 0X03
MOVWF INDF
INCF FSR
MOVLW 0X83
MOVWF INDF
INCF FSR
MOVLW 0X83
MOVWF INDF
INCF FSR
MOVLW 0X83
MOVWF INDF
INCF FSR
MOVLW 0X83
MOVWF INDF
INCF FSR
MOVLW 0X83
MOVWF INDF
INCF FSR
MOVLW 0X83
MOVWF INDF
INCF FSR
MOVLW 0X83
MOVWF INDF
INCF FSR
MOVLW 0X83
MOVWF INDF
INCF FSR
MOVLW 0X83
MOVWF INDF
INCF FSR
MOVLW 0X83
MOVWF INDF
INCF FSR
MOVLW 0X83
MOVWF INDF
INCF FSR
MOVLW 0X83
MOVWF INDF
INCF FSR
MOVLW 0X83
MOVWF INDF
INCF FSR
MOVLW 0X83
MOVWF INDF
INCF FSR
MOVLW 0X83
MOVWF INDF
INCF FSR
MOVLW 0X83
MOVWF INDF
INCF FSR
MOVLW 0X03
MOVWF INDF
INCF FSR
MOVLW 0X03
MOVWF INDF
INCF FSR
MOVLW 0X07
MOVWF INDF
INCF FSR
MOVLW 0X0E
MOVWF INDF
INCF FSR
MOVLW 0X1C
MOVWF INDF
INCF FSR
MOVLW 0X38
MOVWF INDF
INCF FSR
MOVLW 0XF0
MOVWF INDF
INCF FSR
MOVLW 0XE0
MOVWF INDF
INCF FSR
RETURN
CARITA_FELIZ:
BCF STATUS, IRP
MOVLW 0XA0
MOVWF FSR
MOVLW 0X03
MOVWF INDF
INCF FSR
MOVLW 0X07
MOVWF INDF
INCF FSR
MOVLW 0X0E
MOVWF INDF
INCF FSR
MOVLW 0X1C
MOVWF INDF
INCF FSR
MOVLW 0X38
MOVWF INDF
INCF FSR
MOVLW 0X70
MOVWF INDF
INCF FSR
MOVLW 0XE0
MOVWF INDF
INCF FSR
MOVLW 0XC7
MOVWF INDF
INCF FSR
MOVLW 0XCF
MOVWF INDF
INCF FSR
MOVLW 0XC8
MOVWF INDF
INCF FSR
MOVLW 0XC8
MOVWF INDF
INCF FSR
MOVLW 0XCF
MOVWF INDF
INCF FSR
MOVLW 0XC7
MOVWF INDF
INCF FSR
MOVLW 0XC0
MOVWF INDF
INCF FSR
MOVLW 0XC0
MOVWF INDF
INCF FSR
MOVLW 0XC0
MOVWF INDF
INCF FSR
MOVLW 0XC0
MOVWF INDF
INCF FSR
MOVLW 0XC0
MOVWF INDF
INCF FSR
MOVLW 0XC0
MOVWF INDF
INCF FSR
MOVLW 0XC3
MOVWF INDF
INCF FSR
MOVLW 0XC3
MOVWF INDF
INCF FSR
MOVLW 0XC3
MOVWF INDF
INCF FSR
MOVLW 0XC3
MOVWF INDF
INCF FSR
MOVLW 0XC3
MOVWF INDF
INCF FSR
MOVLW 0XC3
MOVWF INDF
INCF FSR
MOVLW 0XE0
MOVWF INDF
INCF FSR
MOVLW 0X70
MOVWF INDF
INCF FSR
MOVLW 0X38
MOVWF INDF
INCF FSR
MOVLW 0X1C
MOVWF INDF
INCF FSR
MOVLW 0X0E
MOVWF INDF
INCF FSR
MOVLW 0X07
MOVWF INDF
INCF FSR
MOVLW 0X03
MOVWF INDF
BSF STATUS,IRP
MOVLW 0X20
MOVWF FSR
MOVLW 0XFF
MOVWF INDF
INCF FSR
MOVLW 0XFF
MOVWF INDF
INCF FSR
MOVLW 0X00
MOVWF INDF
INCF FSR
MOVLW 0X00
MOVWF INDF
INCF FSR
MOVLW 0X00
MOVWF INDF
INCF FSR
MOVLW 0X00
MOVWF INDF
INCF FSR
MOVLW 0X0F
MOVWF INDF
INCF FSR
MOVLW 0X08
MOVWF INDF
INCF FSR
MOVLW 0X88
MOVWF INDF
INCF FSR
MOVLW 0X88
MOVWF INDF
INCF FSR
MOVLW 0X88
MOVWF INDF
INCF FSR
MOVLW 0X88
MOVWF INDF
INCF FSR
MOVLW 0X08
MOVWF INDF
INCF FSR
MOVLW 0X08
MOVWF INDF
INCF FSR
MOVLW 0X08
MOVWF INDF
INCF FSR
MOVLW 0X08
MOVWF INDF
INCF FSR
MOVLW 0X08
MOVWF INDF
INCF FSR
MOVLW 0X08
MOVWF INDF
INCF FSR
MOVLW 0X08
MOVWF INDF
INCF FSR
MOVLW 0X08
MOVWF INDF
INCF FSR
MOVLW 0X08
MOVWF INDF
INCF FSR
MOVLW 0X08
MOVWF INDF
INCF FSR
MOVLW 0X08
MOVWF INDF
INCF FSR
MOVLW 0X08
MOVWF INDF
INCF FSR
MOVLW 0X08
MOVWF INDF
INCF FSR
MOVLW 0X0F
MOVWF INDF
INCF FSR
MOVLW 0X00
MOVWF INDF
INCF FSR
MOVLW 0X00
MOVWF INDF
INCF FSR
MOVLW 0X00
MOVWF INDF
INCF FSR
MOVLW 0X00
MOVWF INDF
INCF FSR
MOVLW 0XFF
MOVWF INDF
INCF FSR
MOVLW 0XFF
MOVWF INDF
MOVLW 0XA0
MOVWF FSR
MOVLW 0XC0
MOVWF INDF
INCF FSR
MOVLW 0XE0
MOVWF INDF
INCF FSR
MOVLW 0X70
MOVWF INDF
INCF FSR
MOVLW 0X38
MOVWF INDF
INCF FSR
MOVLW 0X1C
MOVWF INDF
INCF FSR
MOVLW 0X0E
MOVWF INDF
INCF FSR
MOVLW 0X07
MOVWF INDF
INCF FSR
MOVLW 0X83
MOVWF INDF
INCF FSR
MOVLW 0X43
MOVWF INDF
INCF FSR
MOVLW 0X23
MOVWF INDF
INCF FSR
MOVLW 0X13
MOVWF INDF
INCF FSR
MOVLW 0X13
MOVWF INDF
INCF FSR
MOVLW 0X13
MOVWF INDF
INCF FSR
MOVLW 0X13
MOVWF INDF
INCF FSR
MOVLW 0X13
MOVWF INDF
INCF FSR
MOVLW 0X13
MOVWF INDF
INCF FSR
MOVLW 0X13
MOVWF INDF
INCF FSR
MOVLW 0X13
MOVWF INDF
INCF FSR
MOVLW 0X13
MOVWF INDF
INCF FSR
MOVLW 0X13
MOVWF INDF
INCF FSR
MOVLW 0X13
MOVWF INDF
INCF FSR
MOVLW 0X13
MOVWF INDF
INCF FSR
MOVLW 0X23
MOVWF INDF
INCF FSR
MOVLW 0X43
MOVWF INDF
INCF FSR
MOVLW 0X83
MOVWF INDF
INCF FSR
MOVLW 0X03
MOVWF INDF
INCF FSR
MOVLW 0X07
MOVWF INDF
INCF FSR
MOVLW 0X0E
MOVWF INDF
INCF FSR
MOVLW 0X1C
MOVWF INDF
INCF FSR
MOVLW 0X38
MOVWF INDF
INCF FSR
MOVLW 0XF0
MOVWF INDF
INCF FSR
MOVLW 0XE0
MOVWF INDF
RETURN
B0:
BCF STATUS, RP0
BCF STATUS,RP1
RETURN
B1:
BCF STATUS,RP1
BSF STATUS,RP0
RETURN
B2:
BsF STATUS, RP1
BCF STATUS,RP0
RETURN
B3:
BsF STATUS,RP1
BSF STATUS,RP0
RETURN
CLEAN BSF PORTE,1
GOTO AQUI1
LIMPIA BCF PORTE,1
AQUI1:MOVLW 0X20
MOVWF 0X70
AQUI:
CALL BACK1
DECFSZ 0X70
GOTO AQUI
RETURN
LIMPIAF1:
MOVLW 0X38
MOVWF 0X70
MOVLW 0XA0
MOVWF FSR
BCF STATUS,IRP
AQUI2:
INCF FSR
CLRF INDF
DECFSZ 0X70
GOTO AQUI2
RETURN
LIMPIAF2:
MOVLW 0X38
MOVWF 0X70
MOVLW 0X20
MOVWF FSR
BSF STATUS,IRP
AQUI3:
INCF FSR
CLRF INDF
DECFSZ 0X70
GOTO AQUI3
RETURN
LIMPIAF3:
MOVLW 0X38
MOVWF 0X70
MOVLW 0XA0
MOVWF FSR
BSF STATUS,IRP
AQUI4:
INCF FSR
CLRF INDF
DECFSZ 0X70
GOTO AQUI4
RETURN
RUT:
MOVFW TMR0
MOVWF 0X71
ANDLW 0X03
MOVWF 0X72
RETURN
RUT1
RRF 0X71
RRF 0X71
MOVFW 0X71
ANDLW 0X03
MOVWF 0X72
RETURN
FLECHA
CLRF 0X74
BCF INTCON, GIE
CALL LIMPIAF1
CALL LIMPIAF2
CALL LIMPIAF3
CALL B0
CLRF EXTRA1
clrf ALTO
CLRF BAJO
MOVLW 0X03
MOVWF CONT4
MOVLW 0X20
MOVWF CONT5
bcf EXTRA2,1
BSF EXTRA2,0
F2:DECFSZ CONT4
GOTO SALTO1
MOVLW 0X01
MOVWF CONT4
DECFSZ CONT5
GOTO aqui
GOTO aqui2
aqui:BCF EXTRA2,0
MOVLW 0X06
MOVWF CONT6
GOTO SALTO1
SALTO1:CALL RUT1
BTFSS EXTRA2,1
CALL GENERA
bcf STATUS,C
RLF 0x74
bcf STATUS,C
RLF 0x74
CALL B0
GOTO SALTO
aqui2:
bcf STATUS,C
RLF 0x74
bcf STATUS,C
RLF 0x74
MOVLW 0X01
MOVWF CONT5
BCF PORTD,4
movlw 0X02
MOVWF EXTRA2
DECFSZ CONT6
GOTO SALTO
CALL RECORD
BSF INTCON,GIE
RETURN
SALTO:
MOVLW 0X08
MOVWF CONT0
F1:CALL DELAY
MOVLW .3
    MOVWF CONT1
R1:
    MOVLW .19
    MOVWF CONT2
R2:
    MOVLW .3
    MOVWF CONT3
R3:CALL SACA
MOVFW CONT0
SUBLW 0X01
BTFSC STATUS,Z
CALL COMPROBACION
DECFSZ CONT3
GOTO R3
DECFSZ CONT2
GOTO R2
DECFSZ CONT1
GOTO R1
DECFSZ CONT0
GOTO F1
GOTO F2
COMPROBACION
BTFSC EXTRA2,0
RETURN
MOVFW 0X74
ANDLW 0XC0
MOVWF AUX
SWAPF AUX
bcf STATUS,C
RRF AUX
bcf STATUS,C
RRF AUX
CALL ESPERA
MOVWF 0X75
BTFSC 0X75,1
goto aqui3
BTFSC 0X75,2
goto aqui3
BTFSS 0X75,0
RETURN
aqui3:
MOVFW AUX
SUBWF 0X75
DECFSZ 0X75
GOTO INCOR
GOTO COR
ESPERA:
MOVFW PORTB
XORLW 0XFF
ANDLW 0X0F
MOVWF 0X73
BTFSC STATUS,Z
RETLW 0X00
CALL RUT
BTFSc 0X73,0
RETLW 0X01
BTFSc 0X73,1
RETLW 0X02
BTFSc 0X73,2
RETLW 0X03
RETLW 0X04
SACA:MOVLW 0X07
IORWF PORTD
BCF PORTD,0
BCF PORTE,1
BCF STATUS, IRP
MOVLW 0XA0
MOVWF TEMP
CALL H1
BSF PORTD, 0
CALL LIMPIA
BSF PORTE,1
BCF PORTD,1
BSF STATUS, IRP
MOVLW 0X20
MOVWF TEMP
CALL H11
BSF PORTD,1
BCF PORTD,2
BSF PORTE,1
BSF STATUS, IRP
MOVLW 0XA0
MOVWF TEMP
CALL H11
BSF PORTD, 2
CALL CLEAN
RETURN
FLECHA_AB
CALL B3
MOVLW 0X08
MOVWF 0X40
MOVLW 0X0C
MOVWF 0X41
MOVLW 0XFE
MOVWF 0X42
MOVLW 0XFF
MOVWF 0X43
MOVLW 0XFF
MOVWF 0X44
MOVLW 0XFE
MOVWF 0X45
MOVLW 0X0C
MOVWF 0X46
MOVLW 0X08
MOVWF 0X47
RETURN
FLECHA_AR
CALL B1
MOVLW 0X10
MOVWF 0X40
MOVLW 0X30
MOVWF 0X41
MOVLW 0X7F
MOVWF 0X42
MOVLW 0XFF
MOVWF 0X43
MOVLW 0XFF
MOVWF 0X44
MOVLW 0X7F
MOVWF 0X45
MOVLW 0X30
MOVWF 0X46
MOVLW 0X10
MOVWF 0X47
RETURN
FLECHA_DE
CALL B2
MOVLW 0X3C
MOVWF 0X40
MOVLW 0X3C
MOVWF 0X41
MOVLW 0X3C
MOVWF 0X42
MOVLW 0X3C
MOVWF 0X43
MOVLW 0XFF
MOVWF 0X44
MOVLW 0X7e
MOVWF 0X45
MOVLW 0X3C
MOVWF 0X46
MOVLW 0X18
MOVWF 0X47
RETURN
FLECHA_IZ
CALL B2
MOVLW 0X18
MOVWF 0X40
MOVLW 0X3C
MOVWF 0X41
MOVLW 0X7E
MOVWF 0X42
MOVLW 0XFF
MOVWF 0X43
MOVLW 0X3C
MOVWF 0X44
MOVLW 0X3C
MOVWF 0X45
MOVLW 0X3C
MOVWF 0X46
MOVLW 0X3C
MOVWF 0X47
RETURN

DETECTA
MOVFW PORTB
ANDLW 0X0F
XORLW 0X0F
BTFSC STATUS,Z
RETURN
CALL RUT
GOTO FLECHA
LIMPIAAR:
MOVLW 0XA8
MOVWF FSR
BCF STATUS,IRP
GOTO AQUI19
LIMPIADE:
LIMPIAIZ
MOVLW 0X28
MOVWF FSR
BSF STATUS,IRP
GOTO AQUI19
LIMPIAAB:
MOVLW 0XA8
MOVWF FSR
BSF STATUS,IRP
AQUI19
MOVLW 0X08
MOVWF EXTRA
AQUI18
CLRF INDF
INCF FSR
DECFSZ EXTRA
GOTO AQUI18
RETURN
BLOQUEAAR:
MOVLW 0XA8
MOVWF FSR
BCF STATUS,IRP
GOTO AQUI21
BLOQUEADE:
BLOQUEAIZ
MOVLW 0X28
MOVWF FSR
BSF STATUS,IRP
GOTO AQUI21
BLOQUEAAB:
MOVLW 0XA8
MOVWF FSR
BSF STATUS,IRP
AQUI21
MOVLW 0X08
MOVWF EXTRA
AQUI20
MOVLW 0X63
MOVWF INDF
INCF FSR
DECFSZ EXTRA
GOTO AQUI20
RETURN
RECORD:
MOVLW 0X30
MOVWF FSR
BSF STATUS, IRP
MOVFW ALTO
MOVWF BAJO
CALL RSACA
INCF FSR
INCF FSR
MOVFW EXTRA1
MOVWF BAJO
CALL RSACA
MOVLW 0X50
MOVWF CONT
A1:MOVLW 0X10
MOVWF CONT1
A2:CALL SACA
DECFSZ CONT1
GOTO A2
DECFSZ CONT0
GOTO A1
RETURN
AJUSTE:
MOVFW EXTRA1
SUBLW 0X0A
BTFSS STATUS,Z
RETURN
CLRF EXTRA1
INCF ALTO
RETURN
HERE:CLRF 0X79
    CLRF CONT
    CALL B1
    Movlw    0x06
    Movwf    ADCON1
    MOVLW 0X04
    MOVWF OPTION_REG
    MOVLW 0x00;
    MOVWF TRISC;
    MOVLW 0x00;
    MOVWF TRISD;
    MOVLW 0x00;
    MOVWF TRISE;
    MOVLW 0xFF;
    MOVWF TRISB;
    CALL B0
MOVLW 0XA0
MOVWF INTCON
CLRF CONT4
CALL CARITA_TRISTE
BUCLE:
CALL SACA
BSF PORTD,4
CALL DETECTA
GOTO BUCLE
LOGO:
CALL B1
MOVLW 0X00
MOVWF 0X20
MOVLW 0X00
MOVWF 0X21
MOVLW 0X00
MOVWF 0X22
MOVLW 0X00
MOVWF 0X23
MOVLW 0X00
MOVWF 0X24
MOVLW 0X00
MOVWF 0X25
MOVLW 0X01
MOVWF 0X26
MOVLW 0X06
MOVWF 0X27
MOVLW 0X1D
MOVWF 0X28
MOVLW 0X37
MOVWF 0X29
MOVLW 0X79
MOVWF 0X2A
MOVLW 0X00
MOVWF 0X2B
MOVLW 0X00
MOVWF 0X2C
MOVLW 0X00
MOVWF 0X2D
MOVLW 0X00
MOVWF 0X2E
MOVLW 0X01
MOVWF 0X2F
MOVLW 0X02
MOVWF 0X30
MOVLW 0X02
MOVWF 0X31
MOVLW 0X01
MOVWF 0X32
MOVLW 0X01
MOVWF 0X33
MOVLW 0X00
MOVWF 0X34
MOVLW 0X00
MOVWF 0X35
MOVLW 0X79
MOVWF 0X36
MOVLW 0X37
MOVWF 0X37
MOVLW 0X1D
MOVWF 0X38
MOVLW 0X06
MOVWF 0X39
MOVLW 0X01
MOVWF 0X3A
MOVLW 0X00
MOVWF 0X3B
MOVLW 0X00
MOVWF 0X3C
MOVLW 0X00
MOVWF 0X3D
MOVLW 0X00
MOVWF 0X3E
MOVLW 0X00
MOVWF 0X3F
CALL B2
MOVLW 0X00
MOVWF 0X20
MOVLW 0X00
MOVWF 0X21
MOVLW 0X00
MOVWF 0X22
MOVLW 0X00
MOVWF 0X23
MOVLW 0X00
MOVWF 0X24
MOVLW 0X00
MOVWF 0X25
MOVLW 0XE0
MOVWF 0X26
MOVLW 0XB8
MOVWF 0X27
MOVLW 0X5C
MOVWF 0X28
MOVLW 0XD4
MOVWF 0X29
MOVLW 0XAA
MOVWF 0X2A
MOVLW 0XEA
MOVWF 0X2B
MOVLW 0X3F
MOVWF 0X2C
MOVLW 0X20
MOVWF 0X2D
MOVLW 0X6F
MOVWF 0X2E
MOVLW 0XD0
MOVWF 0X2F
MOVLW 0X40
MOVWF 0X30
MOVLW 0XD0
MOVWF 0X31
MOVLW 0X6F
MOVWF 0X32
MOVLW 0X20
MOVWF 0X33
MOVLW 0X3F
MOVWF 0X34
MOVLW 0XEA
MOVWF 0X35
MOVLW 0XAA
MOVWF 0X36
MOVLW 0XD4
MOVWF 0X37
MOVLW 0X5C
MOVWF 0X38
MOVLW 0XB8
MOVWF 0X39
MOVLW 0XE0
MOVWF 0X3A
MOVLW 0X00
MOVWF 0X3B
MOVLW 0X00
MOVWF 0X3C
MOVLW 0X00
MOVWF 0X3D
MOVLW 0X00
MOVWF 0X3E
MOVLW 0X00
MOVWF 0X3F
CALL B3
MOVLW 0X00
MOVWF 0X20
MOVLW 0X00
MOVWF 0X21
MOVLW 0X00
MOVWF 0X22
MOVLW 0X00
MOVWF 0X23
MOVLW 0X00
MOVWF 0X24
MOVLW 0X00
MOVWF 0X25
MOVLW 0X00
MOVWF 0X26
MOVLW 0X00
MOVWF 0X27
MOVLW 0X00
MOVWF 0X28
MOVLW 0X00
MOVWF 0X29
MOVLW 0X00
MOVWF 0X2A
MOVLW 0X00
MOVWF 0X2B
MOVLW 0XFE
MOVWF 0X2C
MOVLW 0X03
MOVWF 0X2D
MOVLW 0XF9
MOVWF 0X2E
MOVLW 0X3D
MOVWF 0X2F
MOVLW 0X3D
MOVWF 0X30
MOVLW 0X3D
MOVWF 0X31
MOVLW 0XF9
MOVWF 0X32
MOVLW 0X03
MOVWF 0X33
MOVLW 0XFE
MOVWF 0X34
MOVLW 0X00
MOVWF 0X35
MOVLW 0X00
MOVWF 0X36
MOVLW 0X00
MOVWF 0X37
MOVLW 0X00
MOVWF 0X38
MOVLW 0X00
MOVWF 0X39
MOVLW 0X00
MOVWF 0X3A
MOVLW 0X00
MOVWF 0X3B
MOVLW 0X00
MOVWF 0X3C
MOVLW 0X00
MOVWF 0X3D
MOVLW 0X00
MOVWF 0X3E
MOVLW 0X00
MOVWF 0X3F
RETURN
LOGO2:
CALL LIMPIAF1
CALL LIMPIAF2
CALL LIMPIAF3
CALL B1
MOVLW 0X32
MOVWF 0X21
MOVLW 0X49
MOVWF 0X22
MOVLW 0X49
MOVWF 0X23
MOVLW 0X49
MOVWF 0X24
MOVLW 0X26
MOVWF 0X25
MOVLW 0X7F
MOVWF 0X27
MOVLW 0X01
MOVWF 0X28
MOVLW 0X01
MOVWF 0X29
MOVLW 0X01
MOVWF 0X2A
MOVLW 0X01
MOVWF 0X2B
CALL B2
MOVLW 0X26
MOVWF 0X28
MOVLW 0X45
MOVWF 0X29
MOVLW 0X49
MOVWF 0X2A
MOVLW 0X31
MOVWF 0X2B
MOVLW 0X3E
MOVWF 0X2D
MOVLW 0X41
MOVWF 0X2E
MOVLW 0X41
MOVWF 0X2F
MOVLW 0X3E
MOVWF 0X30
MOVLW 0X10
MOVWF 0X32
MOVLW 0X21
MOVWF 0X33
MOVLW 0X7F
MOVWF 0X34
MOVLW 0X01
MOVWF 0X35
MOVLW 0X10
MOVWF 0X37
MOVLW 0X21
MOVWF 0X38
MOVLW 0X7F
MOVWF 0X39
MOVLW 0X01
MOVWF 0X3A
CALL B3
MOVLW 0X7E
MOVWF 0X20
MOVLW 0X01
MOVWF 0X21
MOVLW 0X01
MOVWF 0X22
MOVLW 0X01
MOVWF 0X23
MOVLW 0X7E
MOVWF 0X24
MOVLW 0X7F
MOVWF 0X26
MOVLW 0X20
MOVWF 0X27
MOVLW 0X08
MOVWF 0X28
MOVLW 0X7F
MOVWF 0X29
MOVLW 0X41
MOVWF 0X2B
MOVLW 0X41
MOVWF 0X2C
MOVLW 0X7F
MOVWF 0X2D
MOVLW 0X41
MOVWF 0X2E
MOVLW 0X41
MOVWF 0X2F
MOVLW 0X40
MOVWF 0X31
MOVLW 0X40
MOVWF 0X32
MOVLW 0X7F
MOVWF 0X33
MOVLW 0X40
MOVWF 0X34
MOVLW 0X40
MOVWF 0X35
MOVLW 0X7F
MOVWF 0X37
MOVLW 0X49
MOVWF 0X38
MOVLW 0X49
MOVWF 0X39
MOVLW 0X41
MOVWF 0X3A
MOVLW 0X41
MOVWF 0X3B
MOVLW 0X3E
MOVWF 0X3D
MOVLW 0X41
MOVWF 0X3E
MOVLW 0X41
MOVWF 0X3F
RETURN
NUMERO0
MOVLW 0X3E
MOVWF INDF
INCF FSR
MOVLW 0X41
MOVWF INDF
INCF FSR
MOVLW 0X41
MOVWF INDF
INCF FSR
MOVLW 0X3E
MOVWF INDF
RETURN
NUMERO9
MOVLW 0X32
MOVWF INDF
INCF FSR
MOVLW 0X49
MOVWF INDF
INCF FSR
MOVLW 0X49
MOVWF INDF
INCF FSR
MOVLW 0X3F
MOVWF INDF
RETURN
NUMERO8
MOVLW 0X36
MOVWF INDF
INCF FSR
MOVLW 0X49
MOVWF INDF
INCF FSR
MOVLW 0X49
MOVWF INDF
INCF FSR
MOVLW 0X36
MOVWF INDF
RETURN
NUMERO7
MOVLW 0X47
MOVWF INDF
INCF FSR
MOVLW 0X48
MOVWF INDF
INCF FSR
MOVLW 0X50
MOVWF INDF
INCF FSR
MOVLW 0X60
MOVWF INDF
RETURN
NUMERO6
MOVLW 0X3E
MOVWF INDF
INCF FSR
MOVLW 0X49
MOVWF INDF
INCF FSR
MOVLW 0X49
MOVWF INDF
INCF FSR
MOVLW 0X26
MOVWF INDF
RETURN
NUMERO5
MOVLW 0X71
MOVWF INDF
INCF FSR
MOVLW 0X51
MOVWF INDF
INCF FSR
MOVLW 0X51
MOVWF INDF
INCF FSR
MOVLW 0X4E
MOVWF INDF
RETURN
NUMERO4
MOVLW 0X78
MOVWF INDF
INCF FSR
MOVLW 0X08
MOVWF INDF
INCF FSR
MOVLW 0X08
MOVWF INDF
INCF FSR
MOVLW 0X7F
MOVWF INDF
RETURN
NUMERO3
MOVLW 0X22
MOVWF INDF
INCF FSR
MOVLW 0X41
MOVWF INDF
INCF FSR
MOVLW 0X49
MOVWF INDF
INCF FSR
MOVLW 0X36
MOVWF INDF
RETURN
NUMERO2
MOVLW 0X23
MOVWF INDF
MOVLW 0X45
INCF FSR
MOVWF INDF
MOVLW 0X49
INCF FSR
MOVWF INDF
MOVLW 0X31
INCF FSR
MOVWF INDF
return
NUMERO1
MOVLW 0X10
MOVWF INDF
INCF FSR
MOVLW 0X21
MOVWF INDF
INCF FSR
MOVLW 0X7F
MOVWF INDF
INCF FSR
MOVLW 0X01
MOVWF INDF
RETURN
ALLA2
BCF INTCON, GIE
CALL MENU
CALL B0
BTFSS EXTRA3,0
;GOTO REGRESO
MOVLW 0X25
BTFSS EXTRA3,1
;GOTO REGRESO2
CALL LIMPIAF1
MENU:
CALL LIMPIAF1
CALL LIMPIAF2
CALL LIMPIAF3
CALL B1
MOVLW 0X7F
MOVWF 0X20
MOVLW 0X20
MOVWF 0X21
MOVLW 0X10
MOVWF 0X22
MOVLW 0X20
MOVWF 0X23
MOVLW 0X7F
MOVWF 0X24
MOVLW 0X7F
MOVWF 0X26
MOVLW 0X39
MOVWF 0X27
MOVWF 0X28
MOVLW 0X36
MOVWF 0X29
MOVWF 0X2A
MOVLW 0X7F
MOVWF 0X2C
MOVWF 0X30
MOVLW 0X20
MOVWF 0X2D
MOVLW 0X10
MOVWF 0X2E
MOVLW 0X08
MOVWF 0X2F
MOVLW 0X7E
MOVWF 0X32
MOVWF 0X36
MOVLW 0X01
MOVWF 0X33
MOVWF 0X34
MOVWF 0X35
CALL B2
MOVLW 0X3F
MOVWF 0X20
MOVWF 0X24
MOVLW 0X48
MOVWF 0X21
MOVWF 0X22
MOVWF 0X23
MOVLW 0X7F
MOVWF 0X26
MOVWF 0X2E
MOVLW 0X41
MOVWF 0X29
MOVWF 0X27
MOVWF 0X2D
MOVWF 0X28
MOVLW 0X3E
MOVWF 0X2A
MOVLW 0X42
MOVWF 0X2C
MOVLW 0X40
MOVWF 0X2F
MOVWF 0X30
MOVLW 0X7E
MOVWF 0X32
MOVWF 0X36
MOVLW 0X01
MOVWF 0X33
MOVWF 0X34
MOVWF 0X35
MOVLW 0X32
MOVWF 0X38
MOVLW 0X49
MOVWF 0X39
MOVWF 0X3A
MOVWF 0X3B
MOVLW 0X26
MOVWF 0X3E
CALL B3
MOVLW 0X41
MOVWF 0X20
MOVWF 0X21
MOVWF 0X23
MOVWF 0X24
MOVWF 0X2B
MOVWF 0X2C
MOVWF 0X2E
MOVWF 0X2F
MOVLW 0X7F
MOVWF 0X22
MOVWF 0X26
MOVWF 0X2A
MOVWF 0X2D
MOVLW 0X20
MOVWF 0X27
MOVLW 0X10
MOVWF 0X28
MOVLW 0X08
MOVWF 0X29
ESPACIO:
MOVLW 0X7F
MOVWF INDF
INCF FSR
MOVLW 0X7F
MOVWF INDF
INCF FSR
RETURN
MESPACIO:
MOVLW 0X7F
MOVWF INDF
INCF FSR
RETURN
DOS_PUNTOS:
MOVLW 0X49
MOVWF INDF
INCF FSR
MOVLW 0X49
MOVWF INDF
INCF FSR
RETURN
;AQUI
LETRA_M
MOVLW 0X00
MOVWF INDF
INCF FSR
MOVLW 0X6F
MOVWF INDF
INCF FSR
MOVLW 0X77
MOVWF INDF
INCF FSR
MOVLW 0X6F
MOVWF INDF
INCF FSR
MOVLW 0X00
MOVWF INDF
INCF FSR
RETURN
LETRA_B
MOVLW 0X00
MOVWF INDF
INCF FSR
MOVLW 0X36
MOVWF INDF
INCF FSR
MOVLW 0X36
MOVWF INDF
INCF FSR
MOVLW 0X36
MOVWF INDF
INCF FSR
MOVLW 0X49
MOVWF INDF
INCF FSR
RETURN
LETRA_o
MOVLW 0X63
MOVWF INDF
INCF FSR
MOVLW 0X5D
MOVWF INDF
INCF FSR
MOVLW 0X5D
MOVWF INDF
INCF FSR
MOVLW 0X5D
MOVWF INDF
INCF FSR
MOVLW 0X63
MOVWF INDF
INCF FSR
RETURN
CORAZON
MOVLW 0X67
MOVWF INDF
INCF FSR
MOVLW 0X5B
MOVWF INDF
INCF FSR
MOVLW 0X6D
MOVWF INDF
INCF FSR
MOVLW 0X5B
MOVWF INDF
INCF FSR
MOVLW 0X67
MOVWF INDF
INCF FSR
RETURN
LETRA_t
MOVLW 0X6F
MOVWF INDF
INCF FSR
MOVLW 0X6F
MOVWF INDF
INCF FSR
MOVLW 0X01
MOVWF INDF
INCF FSR
MOVLW 0X6E
MOVWF INDF
INCF FSR
MOVLW 0X6D
MOVWF INDF
INCF FSR
RETURN
LETRA_e
MOVLW 0X61
MOVWF INDF
INCF FSR
MOVLW 0X56
MOVWF INDF
INCF FSR
MOVLW 0X56
MOVWF INDF
INCF FSR
MOVLW 0X56
MOVWF INDF
INCF FSR
MOVLW 0X65
MOVWF INDF
INCF FSR
RETURN
LETRA_D
MOVLW 0X00
MOVWF INDF
INCF FSR
MOVLW 0X3E
MOVWF INDF
INCF FSR
MOVLW 0X3E
MOVWF INDF
INCF FSR
MOVLW 0X5D
MOVWF INDF
INCF FSR
MOVLW 0X63
MOVWF INDF
INCF FSR
RETURN
LETRA_E
MOVLW 0X00
MOVWF INDF
INCF FSR
MOVLW 0X36
MOVWF INDF
INCF FSR
MOVLW 0X36
MOVWF INDF
INCF FSR
MOVLW 0X3E
MOVWF INDF
INCF FSR
MOVLW 0X3E
MOVWF INDF
INCF FSR
RETURN
LETRA_S
MOVLW 0X4D
MOVWF INDF
INCF FSR
MOVLW 0X36
MOVWF INDF
INCF FSR
MOVLW 0X36
MOVWF INDF
INCF FSR
MOVLW 0X36
MOVWF INDF
INCF FSR
MOVLW 0X59
MOVWF INDF
INCF FSR
RETURN
LETRA_A
MOVLW 0X60
MOVWF INDF
INCF FSR
MOVLW 0X57
MOVWF INDF
INCF FSR
MOVLW 0X37
MOVWF INDF
INCF FSR
MOVLW 0X57
MOVWF INDF
INCF FSR
MOVLW 0X60
MOVWF INDF
INCF FSR
RETURN
LETRA_R
MOVLW 0X00
MOVWF INDF
INCF FSR
MOVLW 0X37
MOVWF INDF
INCF FSR
MOVLW 0X33
MOVWF INDF
INCF FSR
MOVLW 0X35
MOVWF INDF
INCF FSR
MOVLW 0X4E
MOVWF INDF
INCF FSR
RETURN
LETRA_0
MOVLW 0X41
MOVWF INDF
INCF FSR
MOVLW 0X3E
MOVWF INDF
INCF FSR
MOVLW 0X3E
MOVWF INDF
INCF FSR
MOVLW 0X3E
MOVWF INDF
INCF FSR
MOVLW 0X41
MOVWF INDF
INCF FSR
RETURN
LETRA_L
MOVLW 0X00
MOVWF INDF
INCF FSR
MOVLW 0X7E
MOVWF INDF
INCF FSR
MOVLW 0X7E
MOVWF INDF
INCF FSR
MOVLW 0X7E
MOVWF INDF
INCF FSR
MOVLW 0X7E
MOVWF INDF
INCF FSR
RETURN
LETRA_C
MOVLW 0X41
MOVWF INDF
INCF FSR
MOVLW 0X3E
MOVWF INDF
INCF FSR
MOVLW 0X3E
MOVWF INDF
INCF FSR
MOVLW 0X3E
MOVWF INDF
INCF FSR
MOVLW 0X5D
MOVWF INDF
INCF FSR
RETURN
LETRA_P
MOVLW 0X00
MOVWF INDF
INCF FSR
MOVLW 0X37
MOVWF INDF
INCF FSR
MOVLW 0X37
MOVWF INDF
INCF FSR
MOVLW 0X37
MOVWF INDF
INCF FSR
MOVLW 0X4F
MOVWF INDF
INCF FSR
RETURN
LETRA_Y
MOVLW 0X1F
MOVWF INDF
INCF FSR
MOVLW 0X6F
MOVWF INDF
INCF FSR
MOVLW 0X70
MOVWF INDF
INCF FSR
MOVLW 0X6F
MOVWF INDF
INCF FSR
MOVLW 0X1F
MOVWF INDF
INCF FSR
RETURN
LETRA_T
MOVLW 0X3F
MOVWF INDF
INCF FSR
MOVLW 0X3F
MOVWF INDF
INCF FSR
MOVLW 0X00
MOVWF INDF
INCF FSR
MOVLW 0X3F
MOVWF INDF
INCF FSR
MOVLW 0X3F
MOVWF INDF
INCF FSR
RETURN
LETRA_I
MOVLW 0X3E
MOVWF INDF
INCF FSR
MOVLW 0X3E
MOVWF INDF
INCF FSR
MOVLW 0X00
MOVWF INDF
INCF FSR
MOVLW 0X3E
MOVWF INDF
INCF FSR
MOVLW 0X3E
MOVWF INDF
INCF FSR
RETURN
LETRA_G
MOVLW 0X00
MOVWF INDF
INCF FSR
MOVLW 0X3E
MOVWF INDF
INCF FSR
MOVLW 0X32
MOVWF INDF
INCF FSR
MOVLW 0X36
MOVWF INDF
INCF FSR
MOVLW 0X30
MOVWF INDF
INCF FSR
RETURN
LETRA_N
MOVLW 0X00
MOVWF INDF
INCF FSR
MOVLW 0X5F
MOVWF INDF
INCF FSR
MOVLW 0X6F
MOVWF INDF
INCF FSR
MOVLW 0X77
MOVWF INDF
INCF FSR
MOVLW 0X00
MOVWF INDF
INCF FSR
RETURN
LETRA_H
MOVLW 0X00
MOVWF INDF
INCF FSR
MOVLW 0X77
MOVWF INDF
INCF FSR
MOVLW 0X77
MOVWF INDF
INCF FSR
MOVLW 0X77
MOVWF INDF
INCF FSR
MOVLW 0X00
MOVWF INDF
INCF FSR
RETURN
LETRA_U
MOVLW 0X01
MOVWF INDF
INCF FSR
MOVLW 0X7E
MOVWF INDF
INCF FSR
MOVLW 0X7E
MOVWF INDF
INCF FSR
MOVLW 0X7E
MOVWF INDF
INCF FSR
MOVLW 0X01
MOVWF INDF
INCF FSR
RETURN
LETRA_Z
MOVLW 0X3C
MOVWF INDF
INCF FSR
MOVLW 0X3A
MOVWF INDF
INCF FSR
MOVLW 0X36
MOVWF INDF
INCF FSR
MOVLW 0X2E
MOVWF INDF
INCF FSR
MOVLW 0X1E
MOVWF INDF
INCF FSR
RETURN
SELECCIONAOPCIONES:
CALL JUEGO1
RIGTH:CALL SACA
CALL REGRESO_DE_BOTON
BTFSC
CALL CAMBIA_DEJIZ
BTFSC
CALL CAMBIA_DEJDE
BTFSC
CALL REGRESAR_MENU
BTFSC
CALL BAJA_OPCION
GOTO RIGHT
MENU:
CALL MENU_IM
RIGTH:CALL SACA
CALL REGRESO_DE_BOTON
BTFSC
CALL CAMBIA_DEJIZ
BTFSC
CALL CAMBIA_DEJDE
BTFSC
CALL REGRESAR_MENU
BTFSC
CALL BAJA_OPCION
GOTO RIGHT
BAJA_OPCION
INCF OPCION
MOVFW OPCION
SUBLW 0X03
BTFSS STATUS,Z
RETURN
BTFSS MENU,0
DECF OPCION
DECF OPCION
DECF OPCION
RETURN
ANTIR

END
